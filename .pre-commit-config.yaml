repos:
- repo: https://github.com/antonbabenko/pre-commit-terraform
  rev: v1.83.5
  hooks:
    - id: terraform_fmt
      args:
      - --args=-write=true
      
name: pre-commit
 
on:
  pull_request:
  push:
    branches: [main, add-precommit-hooks]
 
jobs:
  pre-commit:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
 
      - uses: pre-commit/action@v3.0.0
        with:
          extra_args: terraform_fmt --all-files